{"version":3,"file":"js/app.27fea23d.js","mappings":"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","sources":["webpack://nostr-relay-registry/./codes.yaml","webpack://nostr-relay-registry/./relays.yaml","webpack://nostr-relay-registry/./src/App.vue","webpack://nostr-relay-registry/./src/components/BaseRelays.vue","webpack://nostr-relay-registry/./src/components/BaseRelays.vue?6c25","webpack://nostr-relay-registry/./src/App.vue?7ccd","webpack://nostr-relay-registry/./src/main.js","webpack://nostr-relay-registry/webpack/bootstrap","webpack://nostr-relay-registry/webpack/runtime/chunk loaded","webpack://nostr-relay-registry/webpack/runtime/compat get default export","webpack://nostr-relay-registry/webpack/runtime/define property getters","webpack://nostr-relay-registry/webpack/runtime/global","webpack://nostr-relay-registry/webpack/runtime/hasOwnProperty shorthand","webpack://nostr-relay-registry/webpack/runtime/node module decorator","webpack://nostr-relay-registry/webpack/runtime/jsonp chunk loading","webpack://nostr-relay-registry/webpack/startup"],"sourcesContent":["module.exports = {\"messages\":{\"11cb5ca38038c3eb41bd014814f6e2e18da18ff1\":{\"text\":\"we don't accept any events\",\"code\":\"READ_ONLY\"},\"1003d4ec1466033d0dcc4a1babc6c5f409784593\":{\"text\":\"NIP-05 verification needed to publish events\",\"code\":\"NIP_05_REQUIRED\"},\"2e36f6955db854ac51105aa198fdf37cec694135\":{\"text\":\"[ERROR]: Pubkey is not whitelisted.\",\"code\":\"WHITELIST_REQUIRED\"},\"5d6c9cb06d52c3f0456cc08fdf883dbe19b3c782\":{\"text\":\"failed to save event from 5a462fa6044b4b8da318528a6987a45e3adf832bd1c64bd6910eacfecdf07541\",\"code\":\"BLOCKS_WRITE_STATUS_CHECK\"},\"2c791b26eda3205558c235973ca84cc68a80e5e0\":{\"text\":\"pubkey is not allowed to publish to this relay\",\"code\":\"BLOCKS_WRITE_STATUS_CHECK\"},\"203442bfdf9f7f1562f1164b6dc79fefb42790ac\":{\"text\":\"failed to save event 41ce9bc50da77dda5542f020370ecc2b056d8f2be93c1cedf1bf57efcab095b0: pq: duplicate key value violates unique constraint \\\"ididx\\\"\",\"code\":\"BLOCKS_WRITE_STATUS_CHECK\"},\"af155223f0e51dea64560c4ef6dc341a2775af76\":{\"text\":\"failed to save event from 5a462fa6044b4b8da318528a6987a45e3adf832bd1c64bd6910eacfecdf07541\",\"code\":\"BLOCKS_WRITE_STATUS_CHECK\"}},\"codes\":{\"READ_ONLY\":{\"type\":\"write_restricted\",\"description\":\"This relay only access read queries\"},\"WRITE_ONLY\":{\"type\":\"write_restricted\",\"description\":\"This relay only accepts the publishing of events\"},\"NIP_05_REQUIRED\":{\"type\":\"write_restricted\",\"description\":\"This relay only accepts the publishing of events from NIP-05 verified public keys\"},\"WHITELIST_REQUIRED\":{\"type\":\"write_restricted\",\"description\":\"This relay onoly accepts the publishing of events from whitelisted public keys\"},\"BLOCKS_WRITE_STATUS_CHECK\":{\"type\":\"maybe_public\",\"description\":\"This relay blocks the events that enable us to test writing to the relay, so there's some uncertainty\"}}}","module.exports = {\"relays\":[\"wss://rsslay.fiatjaf.com\",\"wss://freedom-relay.herokuapp.com/ws\",\"wss://nostr-relay.freeberty.net\",\"wss://nostr.bitcoiner.social\",\"wss://nostr-relay.wlvs.space\",\"wss://nostr.onsats.org\",\"wss://nostr-relay.untethr.me\",\"wss://nostr.semisol.dev\",\"wss://nostr-pub.semisol.dev\",\"wss://nostr-verified.wellorder.net\",\"wss://nostr.drss.io\",\"wss://nostr.unknown.place\",\"wss://relay.damus.io\",\"wss://nostr.openchain.fr\",\"wss://nostr.delo.software\",\"wss://relay.nostr.info\",\"wss://relay.minds.com/nostr/v1/ws\",\"wss://nostr.zaprite.io\",\"wss://nostr.oxtr.dev\",\"wss://nostr.ono.re\",\"wss://relay.grunch.dev\",\"wss://relay.cynsar.foundation\",\"wss://nostr-pub.wellorder.net\",\"wss://relayer.fiatjaf.com\",\"wss://nostr.rocks\",\"wss://nostr.sandwich.farm\"]}","<template>\n  <BaseRelays />\n</template>\n\n<script>\nimport BaseRelays from './components/BaseRelays.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    BaseRelays,\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <div>\n    <div class=\"text-h5 text-bold q-py-md q-px-sm full-width flex row justify-start\">\n      <h1>Nostr Relay Registry</h1>\n      <span>Next ping in {{ nextPing }} seconds</span> |\n      <span v-if=\"relays.filter((url) => status[url] && !status[url].complete).length > 0\">Processing {{relays.filter((url) => status[url].complete).length}}/{{relays.length}}</span>\n    </div>\n\n    <row container :gutter=\"12\">\n      <column :xs=\"12\" :md=\"12\" :lg=\"6\">\n        <div>\n          <h2><span class=\"indicator badge readwrite\">{{ query('public').length }}</span>Public</h2>\n          <table class=\"online\"  v-if=\"query('public').length > 0\">\n            <tr>\n              <th></th>\n              <th></th>\n              <th>üîå</th>\n              <th>üëÅÔ∏è‚Äçüó®Ô∏è</th>\n              <th>‚úèÔ∏è</th>\n              <th>üåé</th>\n              <!-- <td>wl</td>\n              <td>nip-05><td> -->\n              <th>‚åõÔ∏è</th>\n              <th>‚ÑπÔ∏è</th>\n            </tr>\n            <tr v-for=\"relay in query('public')\" :key=\"{relay}\" :class=\"getLoadingClass(relay)\">\n              <td :key=\"generateKey(relay, 'aggregate')\"><span :class=\"getAggregateStatusClass(relay)\"></span></td>\n\n              <td class=\"left-align relay-url\" @click=\"copy(relay)\">{{ relay }}</td>\n              <td :key=\"generateKey(relay, 'didConnect')\"><span :class=\"getStatusClass(relay, 'didConnect')\"></span></td>\n              <td :key=\"generateKey(relay, 'didRead')\"><span :class=\"getStatusClass(relay, 'didRead')\"></span></td>\n              <td :key=\"generateKey(relay, 'didWrite')\"><span :class=\"getStatusClass(relay, 'didWrite')\"></span></td>\n              <td>{{status[relay].flag}}</td>\n              <td><span v-if=\"status[relay].didConnect\">{{ status[relay].latency }}<span v-if=\"status[relay].latency\">ms</span></span></td>\n              <td>\n                <Popper v-if=\"Object.keys(status[relay].messages).length\">\n                  {{ status[relay].type }}\n                  <button @mouseover=\"showPopper\">log</button>\n                  <template #content>\n                    <ul>\n                      <li v-for=\"(message, key) in status[relay].messages\" :key=\"generateKey(relay, key)\">{{key}}</li>\n                    </ul>\n                  </template>\n                </Popper>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </column>\n\n      <column :xs=\"12\" :md=\"12\" :lg=\"6\">\n        <div>\n          <h2><span class=\"indicator badge write-only\">{{ query('restricted').length }}</span>Restricted</h2>\n          <table class=\"online\">\n            <tr>\n              <th></th>\n              <th></th>\n              <th>üîå</th>\n              <th>üëÅÔ∏è‚Äçüó®Ô∏è</th>\n              <th>‚úèÔ∏è</th>\n              <th>üåé</th>\n              <th>‚åõÔ∏è</th>\n              <th>‚ÑπÔ∏è</th>\n            </tr>\n            <tr v-for=\"relay in query('restricted')\" :key=\"{relay}\" :class=\"getLoadingClass(relay)\">\n              <td :key=\"generateKey(relay, 'aggregate')\"><span :class=\"getAggregateStatusClass(relay)\"><span></span><span></span></span></td>\n              <td class=\"left-align relay-url\"  @click=\"copy(relay)\">{{ relay }}</td>\n              <td :key=\"generateKey(relay, 'didConnect')\"><span :class=\"getStatusClass(relay, 'didConnect')\"></span></td>\n              <td :key=\"generateKey(relay, 'didRead')\"><span :class=\"getStatusClass(relay, 'didRead')\"></span></td>\n              <td :key=\"generateKey(relay, 'didWrite')\"><span :class=\"getStatusClass(relay, 'didWrite')\"></span></td>\n              <td>{{status[relay].flag}}</td>\n              <td><span v-if=\"status[relay].didConnect\">{{ status[relay].latency }}<span v-if=\"status[relay].latency\">ms</span></span></td>\n              <td>\n                <Popper v-if=\"Object.keys(status[relay].messages).length\">\n                  <button @mouseover=\"showPopper\">log</button>\n                  <template #content>\n                    <ul>\n                      <li v-for=\"(message, key) in status[relay].messages\" :key=\"generateKey(relay, key)\">{{key}}</li>\n                    </ul>\n                  </template>\n                </Popper>\n              </td>\n            </tr>\n          </table>\n\n          <h2><span class=\"indicator badge offline\">{{ query('offline').length }}</span>Offline</h2>\n          <table v-if=\"query('offline').length > 0\">\n            <tr>\n              <th></th>\n              <th></th>\n              <th>üîå</th>\n              <th>üëÅÔ∏è‚Äçüó®Ô∏è</th>\n              <th>‚úèÔ∏è</th>\n              <th>msg</th>\n            </tr>\n            <tr v-for=\"relay in query('offline')\" :key=\"{relay}\" :class=\"getLoadingClass(relay)\">\n              <td :key=\"generateKey(relay, 'aggregate')\"><span :class=\"getAggregateStatusClass(relay)\"></span></td>\n              <td class=\"left-align relay-url\">{{ relay }}</td>\n              <td :key=\"generateKey(relay, 'didConnect')\"><span :class=\"getStatusClass(relay, 'didConnect')\"></span></td>\n              <td :key=\"generateKey(relay, 'didRead')\"><span :class=\"getStatusClass(relay, 'didRead')\"></span></td>\n              <td :key=\"generateKey(relay, 'didWrite')\"><span :class=\"getStatusClass(relay, 'didWrite')\"></span></td>\n              <td>\n                <Popper v-if=\"Object.keys(status[relay].messages).length\">\n                  <button>log</button>\n                  <template #content>\n                    <ul>\n                      <li v-for=\"(message, key) in status[relay].messages\" :key=\"generateKey(relay, key)\">{{key}}</li>\n                    </ul>\n                  </template>\n                </Popper>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </column>\n    </row>\n\n    <!-- <h2>Processing</h2>\n    <table v-if=\"relays.filter((url) => !status[url].complete).length > 0\">\n      <tr>\n        <th></th>\n      </tr>\n      <tr v-for=\"relay in relays.filter((url) => !status[url].complete)\" :key=\"{relay}\" :class=\"getLoadingClass(relay)\">\n        <td>{{ relay }}</td>\n      </tr>\n    </table>\n    <a href=\"./relays/\">JSON API</a> -->\n  </div>\n</template>\n\n<script>\nimport { defineComponent} from 'vue'\n// import { relayConnect } from 'nostr-tools/relay'\nimport { Relay } from 'nostr'\n\nimport { Row, Column } from 'vue-grid-responsive';\nimport Popper from \"vue3-popper\";\nimport onionRegex from 'onion-regex';\nimport countryCodeEmoji from 'country-code-emoji'\nimport emoji from 'node-emoji'\n\nimport { relays } from '../../relays.yaml'\nimport { messages as RELAY_MESSAGES, codes as RELAY_CODES } from '../../codes.yaml'\n\nimport crypto from \"crypto\"\n\nconst refreshMillis = 3*60*1000\n\nexport default defineComponent({\n  name: 'BaseRelays',\n  components: {\n    Row,\n    Column,\n    Popper\n  },\n\n  data() {\n    return {\n      relays,\n      status: {},\n      lastPing: Date.now(),\n      nextPing: Date.now() + (60*1000),\n      connections: {},\n      latency: {},\n    }\n  },\n\n  methods: {\n\n    // query (group, filterType) {\n    query (group) {\n      let unordered,\n          filterFn\n\n      // if(filterByType) {\n      //   filterFn = (relay) => this.status?.[relay]?.aggregate == group || this.status?.[relay]?.[filterType];\n      // } else {\n      filterFn = (relay) => this.status?.[relay]?.aggregate == group\n      // }\n\n      unordered = this.relays.filter(filterFn);\n\n      if (unordered.length) {\n        return unordered.sort((relay1, relay2) => {\n          return this.status?.[relay1]?.latency - this.status?.[relay2]?.latency\n        })\n      }\n\n      return []\n    },\n\n    getAggregateStatusClass (url) {\n      let status = ''\n      if (this.status?.[url]?.aggregate == null) {\n        status = 'unprocessed'\n      }\n      else if (this.status?.[url]?.aggregate == 'public') {\n        status = 'readwrite'\n      }\n      else if (this.status?.[url]?.aggregate == 'restricted') {\n        if(this.status?.[url]?.didWrite) {\n          status = 'write-only'\n        } else {\n          status = 'read-only'\n        }\n      }\n      else if (this.status?.[url]?.aggregate == 'offline') {\n        status = 'offline'\n      }\n      return `aggregate indicator ${status}`\n    },\n\n    getStatusClass (url, key) {\n      let status = this.status?.[url]?.[key] === true\n      ? 'green'\n      : this.status?.[url]?.[key] === false\n        ? 'red'\n        : 'silver'\n      return `indicator ${status}`\n    },\n\n    getLoadingClass (url) {\n      return this.status?.[url]?.complete ? \"relay loaded\" : \"relay\"\n    },\n\n    setAggregateStatus (url) {\n      let aggregateTally = 0\n      aggregateTally += this.status?.[url]?.didConnect ? 1 : 0\n      aggregateTally += this.status?.[url]?.didRead ? 1 : 0\n      aggregateTally += this.status?.[url]?.didWrite ? 1 : 0\n      if (aggregateTally == 3) {\n        this.status[url].aggregate = 'public'\n      }\n      else if (aggregateTally == 0) {\n        this.status[url].aggregate = 'offline'\n      }\n      else {\n        this.status[url].aggregate = 'restricted'\n      }\n    },\n\n    async copy(text) {\n      try {\n        await navigator.clipboard.writeText(text);\n      } catch($e) {\n        console.log('Cannot copy');\n      }\n    },\n\n    setComplete (url) {\n      this.setAggregateStatus(url)\n      this.status[url].complete = true\n    },\n    generateKey (url, key) {\n      return `${url}_${key}`\n    },\n\n    testConnect (url) {\n      console.log(url, \"CONNECT\", \"TEST\")\n      this.connections[url] = Relay(url)\n\n      this.connections[url]\n        .on('open', (e) => {\n          console.log('open', e)\n          this.send({\n            id: '41ce9bc50da77dda5542f020370ecc2b056d8f2be93c1cedf1bf57efcab095b0',\n            pubkey:\n              '5a462fa6044b4b8da318528a6987a45e3adf832bd1c64bd6910eacfecdf07541',\n            created_at: 1640305962,\n            kind: 1,\n            tags: [],\n            content: 'running branle',\n            sig: '08e6303565e9282f32bed41eee4136f45418f366c0ec489ef4f90d13de1b3b9fb45e14c74f926441f8155236fb2f6fef5b48a5c52b19298a0585a2c06afe39ed'\n          })\n          this.subscribe(`read_test_${url}`, {limit: 1, kinds:[1]})\n        })\n        .on('error', (e) => {\n          console.log('error', e)\n        })\n        .on('close', (e) => {\n          console.log('close', e)\n        })\n        .on('message', (message) => {\n          console.log(url, \"CONNECT\", \"SUCCESS\")\n          const hash = this.sha1(message)\n          let   message_obj = RELAY_MESSAGES[hash]\n          let   code_obj = RELAY_CODES[message_obj.code]\n\n          message_obj.type = code_obj.type\n          this.status[url].messages[message] = message_obj\n          this.adjustStatus(url, hash)\n        })\n\n\n      //   // () => {},\n      //   (message) => {\n      //\n      //\n      //     console.log(hash)\n      //     console.dir(message_obj)\n      //     console.dir(code_obj)\n      //\n      //\n      //     // console.log(\"RECIEVED MESSAGE!\")\n      //     // console.dir(this.status[url].messages)\n      //   },\n      //   () => {\n      //     console.log(url, \"CONNECT\", \"FAILURE\")\n      //     this.status[url].didConnect = false\n      //     this.status[url].didRead = false\n      //     this.status[url].didWrite = false\n      //     this.setComplete(url)\n      //   }\n      // )\n      // this.status[url].didConnect = true\n    },\n\n    async testRead (url) {\n      console.dir(this.connections[url])\n      // console.log(this.connections[url]['get status']())\n      console.log(url, \"READ\", \"TEST\")\n      let start\n      start = Date.now();\n\n\n      let {unsub} = await this.connections[url].sub(\n        {\n          cb: () => {\n            console.log(url, \"READ\", \"SUCCESS\")\n            this.status[url].didRead = true\n            this.setComplete(url)\n            this.latency[url].read = Date.now() - start;\n            unsub()\n            clearTimeout(willUnsub)\n          },\n          filter: {\n            ids: [\n              '41ce9bc50da77dda5542f020370ecc2b056d8f2be93c1cedf1bf57efcab095b0'\n            ]\n          }\n        },\n        'nostr-registry'\n      )\n      let willUnsub = setTimeout(() => {\n        unsub()\n        console.log(url, \"READ\", \"FAILURE\")\n        if(!this.status[url].maybe_public) this.status[url].didRead = false\n        this.setComplete(url)\n      }, 10000)\n    },\n\n    async testWrite (url) {\n      console.log(url, \"WRITE\", \"TEST\")\n      let start\n      start = Date.now();\n      await this.connections[url].publish()\n      this.latency[url].write = Date.now() - start;\n    },\n\n    async testRelay (url) {\n      this.lastPing = Date.now()\n      this.latency[url] = {}\n      this.status[url].messages = {}\n      try {\n\n        //Test Connect\n        this.testConnect(url)\n\n        //Test Write\n        try {\n          await this.testWrite(url)\n          console.log(url, \"WRITE\", \"SUCCESS\")\n          this.status[url].didWrite = true\n        } catch (err) {\n          console.log(url, \"WRITE\", \"FAILURE\")\n          this.status[url].didWrite = false\n          this.setComplete(url)\n        }\n\n        //Test Read\n        this.testRead(url)\n\n      } catch (err) {\n        this.status[url].didConnect = false\n        this.setComplete(url)\n      }\n\n      if(this.status[url].didRead){\n        this.setLatency(url)\n      }\n\n      await this.getIP(url)\n      await this.setGeo(url)\n      this.setFlag(url)\n    },\n\n    isOnion(url){\n      return onionRegex().test(url)\n    },\n\n    setLatency(url) {\n      this.status[url].latency = this.latency[url].read\n    },\n\n    testRelayLatency(){\n      console.log('testing latency')\n      this.relays.forEach(url => {\n        // this.testWrite(url, true)\n        this.testRead(url, true)\n        this.setLatency(url)\n      })\n      this.lastPing = Date.now()\n    },\n\n    async getIP(url){\n      let ip\n      await fetch(`https://1.1.1.1/dns-query?name=${url.replace('wss://', '')}`, { headers: { 'accept': 'application/dns-json' } })\n        .then(response => response.json())\n        .then((data) => { ip = data.Answer ? data.Answer[data.Answer.length-1].data : false });\n      this.status[url].ip = ip\n      console.log('IP:', ip)\n    },\n\n    async setGeo(url){\n      if (!this.status[url].ip) return\n      await fetch(`http://ip-api.com/json/${this.status[url].ip}`, { headers: { 'accept': 'application/dns-json' } })\n        .then(response => response.json())\n        .then((data) => { this.status[url].geo = data });\n      console.dir(this.status[url].geo)\n    },\n\n    setFlag (url) {\n      this.status[url].flag = this.status[url].geo?.countryCode ? countryCodeEmoji(this.status[url].geo.countryCode) : emoji.get('shrug');\n    },\n\n    adjustStatus (url, hash) {\n      let code = RELAY_MESSAGES[hash].code,\n          type = RELAY_CODES[code].type\n\n      this.status[url][type] = code\n      if (type == \"maybe_public\") {\n        this.status[url].didWrite = true\n        this.status[url].didRead = true\n      }\n      if (type == \"write_restricted\") {\n        this.status[url].didWrite = false\n      }\n\n    },\n\n    sha1 (message) {\n      const hash = crypto.createHash('sha1').update(JSON.stringify(message)).digest('hex')\n      // console.log(message, ':', hash)\n      return hash\n    },\n  },\n\n\n\n  mounted() {\n    this.relays.forEach(async url => {\n      this.status[url] = {} //statusInterface\n      if (this.isOnion(url)) {\n        url = `${url}.to` //add proxy\n      }\n      await this.testRelay(url)\n    })\n\n    // eslint-disable-next-line\n    let latencyTimeout = setTimeout(() => { this.testRelayLatency() }, 10000)\n\n    // eslint-disable-next-line\n    let latencyIntVal = setInterval(() => { this.testRelayLatency() }, refreshMillis)\n    // eslint-disable-next-line\n    let counterIntVal = setInterval(() => {\n      this.nextPing = Math.round((this.lastPing + refreshMillis - Date.now())/1000)\n    }, 1000)\n\n  },\n\n})\n</script>\n\n<style lang='css' scoped>\n.q-tabs {\n  border-bottom: 1px solid var(--q-accent)\n}\n\ntable {\n  width:100%;\n}\n\n.left-align {\n  text-align:left;\n}\n\ntr.relay td {\n  font-style: italic;\n  opacity: 0.5;\n}\n\ntr.relay.loaded td {\n  font-style: normal;\n  opacity: 1;\n}\n\n.indicator {\n  display:block;\n  margin: 0 auto;\n  height: 14px;\n  width: 14px;\n  border-radius: 7px;\n  border-width:0px;\n}\n\n.badge {\n  height:auto;\n  width: auto;\n  display:inline-block;\n  padding: 2px 5px;\n  font-size: 15px;\n  position: relative;\n  top: -3px;\n  min-width: 15px;\n  margin-right:5px;\n}\n\n.badge.readwrite,\n.badge.offline {\n  color: white;\n}\n\n.badge.write-only,\n.badge.read-only {\n  background-color:orange !important;\n}\n\n.aggregate.indicator {\n    background-color: transparent;\n    border-radius: 0px;\n    border-style: solid;\n}\n\n.indicator.silver {\n  background-color: #c0c0c0;\n  border-color: rgba(55,55,55,0.5);\n}\n\n.indicator.green {\n  background-color: green;\n  border-color: rgba(0,255,0,0.5);\n}\n\n.indicator.red {\n  background-color: red;\nborder-color: rgba(255,0,0,0.5);\n}\n\n.indicator.orange {\n  background-color: orange;\n  border-color: rgba(255, 191, 0,0.5);\n}\n\n.indicator.readwrite {\n  background-color: green;\n  border-color: rgba(0,255,0,0.5);\n}\n\n.indicator.read-only {\n  position:relative;\n  border-color: transparent;\n  background-color: transparent\n}\n\n.indicator.read-only span:first-child {\n  position:absolute;\n  width: 0;\n  height: 0;\n  border-top: 14px solid green;\n  border-right: 14px solid transparent;\n}\n\n.indicator.read-only span:last-child {\n  position:absolute;\n  width: 0;\n  height: 0;\n  border-bottom: 14px solid orange;\n  border-left: 14px solid transparent;\n}\n\n\n.indicator.write-only {\n  position:relative;\n  border-color: transparent;\n  background-color: transparent\n}\n\n.indicator.write-only span:first-child {\n  position:absolute;\n  width: 0;\n  height: 0;\n  border-bottom: 14px solid orange;\n  border-left: 14px solid transparent;\n}\n\n.indicator.write-only span:last-child {\n  position:absolute;\n  width: 0;\n  height: 0;\n  border-top: 14px solid green;\n  border-right: 14px solid transparent;\n}\n\n.indicator.offline {\n  background-color: red;\n  border-color: rgba(255,0,0,0.5);\n}\n\ntable.online .relay-url {\n  cursor: pointer;\n}\n\n</style>\n","import { render } from \"./BaseRelays.vue?vue&type=template&id=d6bd2fc4&scoped=true\"\nimport script from \"./BaseRelays.vue?vue&type=script&lang=js\"\nexport * from \"./BaseRelays.vue?vue&type=script&lang=js\"\n\nimport \"./BaseRelays.vue?vue&type=style&index=0&id=d6bd2fc4&lang=css&scoped=true\"\n\nimport exportComponent from \"/Users/sandwich/Develop/nostr-relay-registry/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d6bd2fc4\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=5fe1db92\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5fe1db92&lang=css\"\n\nimport exportComponent from \"/Users/sandwich/Develop/nostr-relay-registry/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknostr_relay_registry\"] = self[\"webpackChunknostr_relay_registry\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7260); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["module","exports","_createBlock","_component_BaseRelays","class","_createElementVNode","_hoisted_13","_createElementBlock","_hoisted_1","_hoisted_2","_ctx","filter","url","complete","length","_createVNode","_component_row","container","gutter","_component_column","xs","md","lg","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","relay","key","onClick","flag","didConnect","latency","Object","keys","messages","_component_Popper","content","message","type","onMouseover","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_23","refreshMillis","defineComponent","name","components","Row","Column","Popper","data","relays","status","lastPing","Date","now","nextPing","connections","methods","query","group","unordered","filterFn","this","aggregate","sort","relay1","relay2","getAggregateStatusClass","didWrite","getStatusClass","getLoadingClass","setAggregateStatus","aggregateTally","didRead","async","text","navigator","clipboard","writeText","$e","console","log","setComplete","generateKey","testConnect","Relay","on","e","send","id","pubkey","created_at","kind","tags","sig","subscribe","limit","kinds","hash","sha1","message_obj","RELAY_MESSAGES","code_obj","RELAY_CODES","code","adjustStatus","start","dir","unsub","sub","cb","read","clearTimeout","willUnsub","ids","setTimeout","maybe_public","publish","write","testWrite","err","testRead","setLatency","getIP","setGeo","setFlag","isOnion","onionRegex","test","testRelayLatency","forEach","ip","fetch","replace","headers","then","response","json","Answer","geo","countryCode","countryCodeEmoji","emoji","crypto","update","JSON","stringify","digest","mounted","testRelay","setInterval","Math","round","__exports__","BaseRelays","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","loaded","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","push","__webpack_exports__"],"sourceRoot":""}